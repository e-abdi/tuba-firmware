
# ===== CONSOLE CONFIGURATION =====
# UART0 console via USB bridge (ESP32 DevKit-C) at 9600 baud
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_PRINTK=y
CONFIG_UART_CONSOLE=y

# ===== WIFI CONFIGURATION (ESP32 with native WiFi support) =====
# WiFi Access Point Mode - creates "Tuba-Glider" network
CONFIG_NETWORKING=y
CONFIG_WIFI=y
CONFIG_WIFI_USAGE_MODE_AP=y
CONFIG_NET_L2_WIFI_MGMT=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_L2_ETHERNET=y
CONFIG_NET_IPV4=y
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_DHCPV4=y
CONFIG_NET_ARP=y
CONFIG_HEAP_MEM_POOL_SIZE=65536

# WiFi power management - DISABLE to prevent AP mode issues
CONFIG_PM=n

# ===== FIELD DEPLOYMENT INSTRUCTIONS =====
# Connect via serial console:
#   screen /dev/ttyUSB0 9600
#   or minicom -D /dev/ttyUSB0 -b 9600
#
# Default behavior on power-up:
#   - Press ENTER within 60 seconds to enter menu
#   - Menu allows: DEPLOYED, RECOVERY, HWTEST, parameter adjustment
#   - If timeout, glider goes to DEPLOYED state automatically
# =====================================

# Keep quiet & simple
CONFIG_LOG=y
CONFIG_LOG_MODE_MINIMAL=y
CONFIG_SHELL=n
CONFIG_ASSERT=y
CONFIG_STDOUT_CONSOLE=y

# Thread/stack diagnostics
CONFIG_THREAD_NAME=y
CONFIG_STACK_SENTINEL=y

# I2C + sensor framework
CONFIG_I2C=y
CONFIG_I2C_ESP32=y
CONFIG_SENSOR=y
# MS5837: use custom I2C implementation, not Zephyr sensor driver
# CONFIG_MS5837 is disabled to avoid driver linkage without full DTS binding
# CONFIG_MS5837=y

# Enable float formatting for printk/printf
CONFIG_CBPRINTF_FP_SUPPORT=y
CONFIG_MAIN_STACK_SIZE=3072

# Non-volatile storage for parameter persistence
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y
CONFIG_CRC=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

